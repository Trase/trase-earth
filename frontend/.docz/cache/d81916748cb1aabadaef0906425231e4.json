{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",\"@babel/plugin-transform-runtime\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx","mtime":1553547295987},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1553790719443},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1550511965648},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":1547926395833}],"contextDependencies":[],"result":["(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/* eslint-disable  jsx-a11y/interactive-supports-focus */\n\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Downshift from 'downshift';\nimport SearchInputResult from 'react-components/shared/search-input/search-input-result.component';\nimport cx from 'classnames';\nimport debounce from 'lodash/debounce';\nimport ShrinkingSpinner from 'react-components/shared/shrinking-spinner/shrinking-spinner.component';\nimport { MAX_SEARCH_RESULTS } from 'constants';\nimport 'scripts/react-components/shared/search-input/search-input.scss';\nvar SEARCH_DEBOUNCE_RATE_IN_MS = 400;\n\nvar SearchInput =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(SearchInput, _PureComponent);\n\n  function SearchInput() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchInput);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchInput)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"onInputValueChange\", debounce(function () {\n      var _this$props;\n\n      return _this.props.onSearchTermChange && (_this$props = _this.props).onSearchTermChange.apply(_this$props, arguments);\n    }, SEARCH_DEBOUNCE_RATE_IN_MS));\n\n    _defineProperty(_assertThisInitialized(_this), \"stateReducer\", function (state, changes) {\n      switch (changes.type) {\n        case Downshift.stateChangeTypes.clickItem:\n        case Downshift.stateChangeTypes.keyDownEnter:\n          {\n            return _objectSpread({}, changes, {\n              highlightedIndex: null,\n              isOpen: false,\n              inputValue: ''\n            });\n          }\n\n        default:\n          return changes;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSearchBox\", function (_ref) {\n      var _cx;\n\n      var getInputProps = _ref.getInputProps,\n          getItemProps = _ref.getItemProps,\n          isOpen = _ref.isOpen,\n          inputValue = _ref.inputValue,\n          highlightedIndex = _ref.highlightedIndex;\n      var _this$props2 = _this.props,\n          size = _this$props2.size,\n          variant = _this$props2.variant,\n          className = _this$props2.className,\n          isLoading = _this$props2.isLoading,\n          isDisabled = _this$props2.isDisabled,\n          items = _this$props2.items,\n          placeholder = _this$props2.placeholder,\n          placeholderSmall = _this$props2.placeholderSmall,\n          testId = _this$props2.testId,\n          getResultTestId = _this$props2.getResultTestId,\n          resultClassName = _this$props2.resultClassName,\n          nodeTypeRenderer = _this$props2.nodeTypeRenderer;\n      var visibleResults = items.slice(0, MAX_SEARCH_RESULTS);\n      return React.createElement(\"div\", {\n        className: cx('c-search-input', className, (_cx = {}, _defineProperty(_cx, variant, SearchInput.VARIANTS.includes(variant)), _defineProperty(_cx, \"size-\".concat(size), size), _cx)),\n        \"data-test\": \"\".concat(testId, \"-search-input-container\")\n      }, React.createElement(\"div\", {\n        className: cx('search-input-bar', {\n          '-loading': isLoading,\n          '-disabled': isDisabled\n        }),\n        onClick: _this.focusInput,\n        role: \"textbox\"\n      }, React.createElement(\"input\", _extends({}, getInputProps({\n        placeholder: placeholderSmall\n      }), {\n        type: \"search\",\n        autoComplete: \"off\",\n        disabled: isDisabled,\n        className: \"search-input-field show-for-small\",\n        \"data-test\": \"\".concat(testId, \"-search-input-field-sm\").concat(isDisabled ? '-disabled' : '')\n      })), React.createElement(\"input\", _extends({}, getInputProps({\n        placeholder: placeholder\n      }), {\n        type: \"search\",\n        autoComplete: \"off\",\n        disabled: isDisabled,\n        className: \"search-input-field hide-for-small\",\n        \"data-test\": \"\".concat(testId, \"-search-input-field-lg\").concat(isDisabled ? '-disabled' : '')\n      })), isLoading ? React.createElement(ShrinkingSpinner, {\n        className: \"-dark\"\n      }) : React.createElement(\"svg\", {\n        className: \"icon icon-search\"\n      }, React.createElement(\"use\", {\n        xlinkHref: \"#icon-search\"\n      }))), isOpen && visibleResults.length > 0 && React.createElement(\"ul\", {\n        className: \"search-input-results\"\n      }, visibleResults.map(function (item, row) {\n        return React.createElement(SearchInputResult, {\n          key: item.id,\n          item: item,\n          className: resultClassName,\n          testId: getResultTestId(item),\n          searchString: inputValue,\n          itemProps: getItemProps({\n            item: item\n          }),\n          nodeTypeRenderer: nodeTypeRenderer,\n          isHighlighted: row === highlightedIndex\n        });\n      })));\n    });\n\n    return _this;\n  }\n\n  _createClass(SearchInput, [{\n    key: \"focusInput\",\n    value: function focusInput(e) {\n      var input = e.currentTarget.querySelector('input');\n      if (input) input.focus();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          searchOptions = _this$props3.searchOptions,\n          _onSelect = _this$props3.onSelect;\n      return React.createElement(Downshift, {\n        onSelect: function onSelect(node) {\n          return _onSelect(node, searchOptions);\n        },\n        stateReducer: this.stateReducer,\n        itemToString: function itemToString(i) {\n          return i === null ? '' : i.name;\n        },\n        onInputValueChange: function onInputValueChange(term) {\n          return _this2.onInputValueChange(term, searchOptions);\n        }\n      }, this.renderSearchBox);\n    }\n  }]);\n\n  return SearchInput;\n}(PureComponent);\n\n_defineProperty(SearchInput, \"VARIANTS\", ['bordered']);\n\nSearchInput.propTypes = {\n  size: PropTypes.string,\n  year: PropTypes.number,\n  testId: PropTypes.string,\n  variant: PropTypes.string,\n  isLoading: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  getResultTestId: PropTypes.func,\n  nodeTypeRenderer: PropTypes.func,\n  items: PropTypes.array.isRequired,\n  resultClassName: PropTypes.string,\n  placeholderSmall: PropTypes.string,\n  searchOptions: PropTypes.object,\n  onSelect: PropTypes.func.isRequired,\n  onSearchTermChange: PropTypes.func.isRequired\n};\nSearchInput.defaultProps = {\n  placeholder: 'search',\n  placeholderSmall: 'search',\n  getResultTestId: function getResultTestId(item) {\n    return \"search-result-\".concat(item.name);\n  }\n};\nvar _default = SearchInput;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_typeof, \"_typeof\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_extends, \"_extends\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_objectSpread, \"_objectSpread\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_classCallCheck, \"_classCallCheck\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_defineProperties, \"_defineProperties\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_createClass, \"_createClass\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_possibleConstructorReturn, \"_possibleConstructorReturn\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_getPrototypeOf, \"_getPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_assertThisInitialized, \"_assertThisInitialized\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_inherits, \"_inherits\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_setPrototypeOf, \"_setPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_defineProperty, \"_defineProperty\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(SEARCH_DEBOUNCE_RATE_IN_MS, \"SEARCH_DEBOUNCE_RATE_IN_MS\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(SearchInput, \"SearchInput\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/search-input/search-input.component.jsx"],"names":["SEARCH_DEBOUNCE_RATE_IN_MS","SearchInput","PureComponent","debounce","e","input","changes","Downshift","highlightedIndex","isOpen","inputValue","getInputProps","getItemProps","size","variant","className","isLoading","isDisabled","items","placeholder","placeholderSmall","testId","getResultTestId","resultClassName","nodeTypeRenderer","visibleResults","cx","item","row","searchOptions","onSelect","i","PropTypes","year","onSearchTermChange","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable  jsx-a11y/interactive-supports-focus */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Downshift from 'downshift';\nimport SearchInputResult from 'react-components/shared/search-input/search-input-result.component';\nimport cx from 'classnames';\nimport debounce from 'lodash/debounce';\nimport ShrinkingSpinner from 'react-components/shared/shrinking-spinner/shrinking-spinner.component';\nimport { MAX_SEARCH_RESULTS } from 'constants';\n\nimport 'scripts/react-components/shared/search-input/search-input.scss';\n\nconst SEARCH_DEBOUNCE_RATE_IN_MS = 400;\n\nclass SearchInput extends PureComponent {\n  static VARIANTS = ['bordered'];\n\n  onInputValueChange = debounce(\n    (...params) => this.props.onSearchTermChange && this.props.onSearchTermChange(...params),\n    SEARCH_DEBOUNCE_RATE_IN_MS\n  );\n\n  focusInput(e) {\n    const input = e.currentTarget.querySelector('input');\n    if (input) input.focus();\n  }\n\n  stateReducer = (state, changes) => {\n    switch (changes.type) {\n      case Downshift.stateChangeTypes.clickItem:\n      case Downshift.stateChangeTypes.keyDownEnter: {\n        return {\n          ...changes,\n          highlightedIndex: null,\n          isOpen: false,\n          inputValue: ''\n        };\n      }\n      default:\n        return changes;\n    }\n  };\n\n  renderSearchBox = ({ getInputProps, getItemProps, isOpen, inputValue, highlightedIndex }) => {\n    const {\n      size,\n      variant,\n      className,\n      isLoading,\n      isDisabled,\n      items,\n      placeholder,\n      placeholderSmall,\n      testId,\n      getResultTestId,\n      resultClassName,\n      nodeTypeRenderer\n    } = this.props;\n    const visibleResults = items.slice(0, MAX_SEARCH_RESULTS);\n\n    return (\n      <div\n        className={cx('c-search-input', className, {\n          [variant]: SearchInput.VARIANTS.includes(variant),\n          [`size-${size}`]: size\n        })}\n        data-test={`${testId}-search-input-container`}\n      >\n        <div\n          className={cx('search-input-bar', { '-loading': isLoading, '-disabled': isDisabled })}\n          onClick={this.focusInput}\n          role=\"textbox\"\n        >\n          <input\n            {...getInputProps({ placeholder: placeholderSmall })}\n            type=\"search\"\n            autoComplete=\"off\"\n            disabled={isDisabled}\n            className=\"search-input-field show-for-small\"\n            data-test={`${testId}-search-input-field-sm${isDisabled ? '-disabled' : ''}`}\n          />\n          <input\n            {...getInputProps({ placeholder })}\n            type=\"search\"\n            autoComplete=\"off\"\n            disabled={isDisabled}\n            className=\"search-input-field hide-for-small\"\n            data-test={`${testId}-search-input-field-lg${isDisabled ? '-disabled' : ''}`}\n          />\n          {isLoading ? (\n            <ShrinkingSpinner className=\"-dark\" />\n          ) : (\n            <svg className=\"icon icon-search\">\n              <use xlinkHref=\"#icon-search\" />\n            </svg>\n          )}\n        </div>\n        {isOpen && visibleResults.length > 0 && (\n          <ul className=\"search-input-results\">\n            {visibleResults.map((item, row) => (\n              <SearchInputResult\n                key={item.id}\n                item={item}\n                className={resultClassName}\n                testId={getResultTestId(item)}\n                searchString={inputValue}\n                itemProps={getItemProps({ item })}\n                nodeTypeRenderer={nodeTypeRenderer}\n                isHighlighted={row === highlightedIndex}\n              />\n            ))}\n          </ul>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { searchOptions, onSelect } = this.props;\n    return (\n      <Downshift\n        onSelect={node => onSelect(node, searchOptions)}\n        stateReducer={this.stateReducer}\n        itemToString={i => (i === null ? '' : i.name)}\n        onInputValueChange={term => this.onInputValueChange(term, searchOptions)}\n      >\n        {this.renderSearchBox}\n      </Downshift>\n    );\n  }\n}\n\nSearchInput.propTypes = {\n  size: PropTypes.string,\n  year: PropTypes.number,\n  testId: PropTypes.string,\n  variant: PropTypes.string,\n  isLoading: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  getResultTestId: PropTypes.func,\n  nodeTypeRenderer: PropTypes.func,\n  items: PropTypes.array.isRequired,\n  resultClassName: PropTypes.string,\n  placeholderSmall: PropTypes.string,\n  searchOptions: PropTypes.object,\n  onSelect: PropTypes.func.isRequired,\n  onSearchTermChange: PropTypes.func.isRequired\n};\n\nSearchInput.defaultProps = {\n  placeholder: 'search',\n  placeholderSmall: 'search',\n  getResultTestId: item => `search-result-${item.name}`\n};\n\nexport default SearchInput;\n"]}]}