{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}]],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",\"@babel/plugin-transform-runtime\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":true,\"compact\":true}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/chart/component.jsx","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/chart/component.jsx","mtime":1550685018016},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1550685017658},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1550511965648},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":1547926395833}],"contextDependencies":[],"result":["function _typeof2(obj){if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof2=function _typeof2(obj){return typeof obj;};}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof2(obj);}function _typeof(obj){if(typeof Symbol===\"function\"&&_typeof2(Symbol.iterator)===\"symbol\"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":_typeof2(obj);};}return _typeof(obj);}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==='function'){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable;}));}ownKeys.forEach(function(key){_defineProperty(target,key,source[key]);});}return target;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)===\"object\"||typeof call===\"function\")){return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function\");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}import React,{PureComponent}from'react';import maxBy from'lodash/maxBy';import max from'lodash/max';import{Line,Bar,Cell,Area,Pie,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,ComposedChart,PieChart}from'recharts';import ChartTick from'./tick';import'./styles.scss';var Chart=/*#__PURE__*/function(_PureComponent){_inherits(Chart,_PureComponent);function Chart(){var _getPrototypeOf2;var _this;_classCallCheck(this,Chart);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Chart)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),\"findMaxValue\",function(data,config){var yKeys=config.yKeys;var maxValues=[];Object.keys(yKeys).forEach(function(key){Object.keys(yKeys[key]).forEach(function(subKey){maxValues.push(maxBy(data,subKey)[subKey]);});});return max(maxValues);});return _this;}_createClass(Chart,[{key:\"render\",value:function render(){var _this$props=this.props,className=_this$props.className,data=_this$props.data,config=_this$props.config,handleMouseMove=_this$props.handleMouseMove,handleMouseLeave=_this$props.handleMouseLeave;var _config$margin=config.margin,margin=_config$margin===void 0?{top:20,right:0,left:50,bottom:0}:_config$margin,_config$padding=config.padding,padding=_config$padding===void 0?{top:0,right:0,left:0,bottom:0}:_config$padding,type=config.type,xKey=config.xKey,yKeys=config.yKeys,xAxis=config.xAxis,yAxis=config.yAxis,cartesianGrid=config.cartesianGrid,gradients=config.gradients,height=config.height,patterns=config.patterns,tooltip=config.tooltip,legend=config.legend,unit=config.unit,colors=config.colors,unitFormat=config.unitFormat;var lines=yKeys.lines,bars=yKeys.bars,areas=yKeys.areas,pies=yKeys.pies;var maxYValue=this.findMaxValue(data,config);var CHART;switch(type){case'pie':CHART=PieChart;break;default:{CHART=ComposedChart;}}return React.createElement(\"div\",{className:\"c-chart \".concat(className),style:{height:height}},React.createElement(ResponsiveContainer,null,React.createElement(CHART,{height:height,data:data,margin:margin,padding:padding,onMouseMove:handleMouseMove,onMouseLeave:handleMouseLeave},React.createElement(\"defs\",null,gradients&&Object.keys(gradients).map(function(key){return React.createElement(\"linearGradient\",_extends({key:\"lg_\".concat(key)},gradients[key].attributes),gradients[key].stops&&Object.keys(gradients[key].stops).map(function(sKey){return React.createElement(\"stop\",_extends({key:\"st_\".concat(sKey)},gradients[key].stops[sKey]));}));}),patterns&&Object.keys(patterns).map(function(key){return React.createElement(\"pattern\",_extends({key:\"pattern_\".concat(key)},patterns[key].attributes),patterns[key].children&&Object.keys(patterns[key].children).map(function(iKey){var tag=patterns[key].children[iKey].tag;return React.createElement(tag,_objectSpread({key:iKey},patterns[key].children[iKey]));}));})),cartesianGrid&&React.createElement(CartesianGrid,_extends({strokeDasharray:\"4 4\",stroke:\"#d6d6d9\"},cartesianGrid)),xAxis&&React.createElement(XAxis,_extends({dataKey:xKey||'',tick:{fontSize:12}},xAxis)),yAxis&&React.createElement(YAxis,_extends({axisLine:false,tickSize:-50,mirror:true,tickMargin:0,tickLine:false,tick:React.createElement(ChartTick,{dataMax:maxYValue,unit:unit||'',unitFormat:unitFormat||function(value){return value;},fill:\"#555555\"})},yAxis)),areas&&Object.keys(areas).map(function(key){return React.createElement(Area,_extends({key:key,dataKey:key,dot:false},areas[key]));}),lines&&Object.keys(lines).map(function(key){return React.createElement(Line,_extends({key:key,dataKey:key,dot:false,strokeWidth:2},lines[key]));}),bars&&Object.keys(bars).map(function(key){return React.createElement(Bar,_extends({key:key,dataKey:key,dot:false},bars[key]),bars[key].itemColor&&data.map(function(item){var _ref=colors.find(function(c){return c.key===key;})||{},color=_ref.color;return React.createElement(Cell,{key:\"c_\".concat(item.color||color),fill:item.color||color});}));}),pies&&Object.keys(pies).map(function(key){return React.createElement(Pie,_extends({key:key,data:data,dataKey:key},pies[key]),data.map(function(item,index){var _ref2=colors[index]||{},color=_ref2.color;return React.createElement(Cell,{key:\"c_\".concat(item.color||color),fill:item.color||color,stroke:item.color||color});}));}),tooltip&&React.createElement(Tooltip,_extends({cursor:_objectSpread({opacity:0.5,stroke:'#d6d6d9'},!!bars&&{strokeWidth:\"\".concat(1.1*(100/data.length),\"%\")}),isAnimationActive:false},tooltip)),legend&&React.createElement(Legend,legend))));}}]);return Chart;}(PureComponent);_defineProperty(Chart,\"defaultProps\",{className:'',handleMouseMove:null,handleMouseLeave:null});export default Chart;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/chart/component.jsx"],"names":["Chart","PureComponent","className","handleMouseMove","handleMouseLeave","yKeys","config","maxValues","Object","maxBy","max","data","margin","top","right","left","bottom","padding","type","xKey","xAxis","yAxis","cartesianGrid","gradients","height","patterns","tooltip","legend","unit","colors","unitFormat","lines","bars","areas","pies","maxYValue","CHART","tag","key","iKey","fontSize","color","c","item","opacity","stroke","strokeWidth"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport maxBy from 'lodash/maxBy';\nimport max from 'lodash/max';\n\nimport {\n  Line,\n  Bar,\n  Cell,\n  Area,\n  Pie,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  ComposedChart,\n  PieChart\n} from 'recharts';\n\nimport ChartTick from './tick';\n\nimport './styles.scss';\n\nclass Chart extends PureComponent {\n  static propTypes = {\n    data: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    config: PropTypes.shape({}).isRequired,\n    className: PropTypes.string,\n    handleMouseMove: PropTypes.func,\n    handleMouseLeave: PropTypes.func\n  };\n\n  static defaultProps = {\n    className: '',\n    handleMouseMove: null,\n    handleMouseLeave: null\n  };\n\n  findMaxValue = (data, config) => {\n    const { yKeys } = config;\n    const maxValues = [];\n\n    Object.keys(yKeys).forEach(key => {\n      Object.keys(yKeys[key]).forEach(subKey => {\n        maxValues.push(maxBy(data, subKey)[subKey]);\n      });\n    });\n    return max(maxValues);\n  };\n\n  render() {\n    const { className, data, config, handleMouseMove, handleMouseLeave } = this.props;\n\n    const {\n      margin = { top: 20, right: 0, left: 50, bottom: 0 },\n      padding = { top: 0, right: 0, left: 0, bottom: 0 },\n      type,\n      xKey,\n      yKeys,\n      xAxis,\n      yAxis,\n      cartesianGrid,\n      gradients,\n      height,\n      patterns,\n      tooltip,\n      legend,\n      unit,\n      colors,\n      unitFormat\n    } = config;\n\n    const { lines, bars, areas, pies } = yKeys;\n    const maxYValue = this.findMaxValue(data, config);\n\n    let CHART;\n    switch (type) {\n      case 'pie':\n        CHART = PieChart;\n        break;\n\n      default: {\n        CHART = ComposedChart;\n      }\n    }\n\n    return (\n      <div className={`c-chart ${className}`} style={{ height }}>\n        <ResponsiveContainer>\n          <CHART\n            height={height}\n            data={data}\n            margin={margin}\n            padding={padding}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n          >\n            <defs>\n              {gradients &&\n                Object.keys(gradients).map(key => (\n                  <linearGradient key={`lg_${key}`} {...gradients[key].attributes}>\n                    {gradients[key].stops &&\n                      Object.keys(gradients[key].stops).map(sKey => (\n                        <stop key={`st_${sKey}`} {...gradients[key].stops[sKey]} />\n                      ))}\n                  </linearGradient>\n                ))}\n\n              {patterns &&\n                Object.keys(patterns).map(key => (\n                  <pattern key={`pattern_${key}`} {...patterns[key].attributes}>\n                    {patterns[key].children &&\n                      Object.keys(patterns[key].children).map(iKey => {\n                        const { tag } = patterns[key].children[iKey];\n\n                        return React.createElement(tag, {\n                          key: iKey,\n                          ...patterns[key].children[iKey]\n                        });\n                      })}\n                  </pattern>\n                ))}\n            </defs>\n\n            {cartesianGrid && (\n              <CartesianGrid strokeDasharray=\"4 4\" stroke=\"#d6d6d9\" {...cartesianGrid} />\n            )}\n\n            {xAxis && <XAxis dataKey={xKey || ''} tick={{ fontSize: 12 }} {...xAxis} />}\n\n            {yAxis && (\n              <YAxis\n                axisLine={false}\n                tickSize={-50}\n                mirror\n                tickMargin={0}\n                tickLine={false}\n                tick={\n                  <ChartTick\n                    dataMax={maxYValue}\n                    unit={unit || ''}\n                    unitFormat={unitFormat || (value => value)}\n                    fill=\"#555555\"\n                  />\n                }\n                {...yAxis}\n              />\n            )}\n\n            {areas &&\n              Object.keys(areas).map(key => (\n                <Area key={key} dataKey={key} dot={false} {...areas[key]} />\n              ))}\n\n            {lines &&\n              Object.keys(lines).map(key => (\n                <Line key={key} dataKey={key} dot={false} strokeWidth={2} {...lines[key]} />\n              ))}\n\n            {bars &&\n              Object.keys(bars).map(key => (\n                <Bar key={key} dataKey={key} dot={false} {...bars[key]}>\n                  {bars[key].itemColor &&\n                    data.map(item => {\n                      const { color } = colors.find(c => c.key === key) || {};\n                      return <Cell key={`c_${item.color || color}`} fill={item.color || color} />;\n                    })}\n                </Bar>\n              ))}\n\n            {pies &&\n              Object.keys(pies).map(key => (\n                <Pie key={key} data={data} dataKey={key} {...pies[key]}>\n                  {data.map((item, index) => {\n                    const { color } = colors[index] || {};\n                    return (\n                      <Cell\n                        key={`c_${item.color || color}`}\n                        fill={item.color || color}\n                        stroke={item.color || color}\n                      />\n                    );\n                  })}\n                </Pie>\n              ))}\n\n            {tooltip && (\n              <Tooltip\n                cursor={{\n                  opacity: 0.5,\n                  stroke: '#d6d6d9',\n                  ...(!!bars && { strokeWidth: `${1.1 * (100 / data.length)}%` })\n                }}\n                isAnimationActive={false}\n                {...tooltip}\n              />\n            )}\n\n            {legend && <Legend {...legend} />}\n          </CHART>\n        </ResponsiveContainer>\n      </div>\n    );\n  }\n}\n\nexport default Chart;\n"]}]}