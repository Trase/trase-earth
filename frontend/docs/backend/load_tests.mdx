---
name: Load tests
menu: Backend
---

# Load tests

To help with running load tests, there are a few convenience utilities designed with `siege` in mind.

## Generating a urls file to input to siege

This file can be generated from a Rails log file, most sensible to use it with a recent production log file, using the following rake task:

`bundle exec rake RAILS_LOG_PATH=log/production.log load_tests:generate_urls_from_rails_log`

In fact this will generate one file per server, as defined in `config/load_tests.yml`

## Running siege

The following rake task is a wrapper around siege:

`bundle exec rake LOAD_TESTS_STAGE=sandbox load_tests:run`

When called like that it will use the urls file for staging, as generated by the task above. Alternatively, it is possible to specify the urls file manually:

`bundle exec rake LOAD_TESTS_URLS=bin/load_tests/sandbox_urls.txt load_tests:run`

Siege configuration is stored in `.siegerc`. Output files go to `log/load_tests/`.
